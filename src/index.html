<!DOCTYPE html>
<html>
<body>
<img src=tile2_overlayed.png width="1000" height="1000" usemap="#clustermap">
<map name="clustermap">
    <area shape="rect" class="points" cluster_no = "2" coords="560,48,561,50" href="#" id = "699">
    <area shape="rect" class="points" cluster_no = "2" coords="565,48,566,50" href="#" id = "700">
    <area shape="rect" class="points" cluster_no = "2" coords="770,48,776,50" href="#" id = "701">
    <area shape="rect" class="points" cluster_no = "1" coords="872,96,891,113" href="#" id = "761">
    <area shape="rect" class="points" cluster_no = "2" coords="517,177,518,178" href="#" id = "889">
    <area shape="rect" class="points" cluster_no = "1" coords="791,196,807,214" href="#" id = "923">
    <area shape="rect" class="points" cluster_no = "2" coords="48,338,50,344" href="#" id = "1141">
    <area shape="rect" class="points" cluster_no = "2" coords="380,354,401,369" href="#" id = "1174">
    <area shape="rect" class="points" cluster_no = "1" coords="560,389,570,402" href="#" id = "1235">
    <area shape="rect" class="points" cluster_no = "2" coords="176,407,182,423" href="#" id = "1264">
    <area shape="rect" class="points" cluster_no = "2" coords="187,418,188,419" href="#" id = "1288">
    <area shape="rect" class="points" cluster_no = "2" coords="190,418,191,419" href="#" id = "1289">
    <area shape="rect" class="points" cluster_no = "2" coords="190,420,191,421" href="#" id = "1294">
    <area shape="rect" class="points" cluster_no = "2" coords="182,422,189,425" href="#" id = "1297">
    <area shape="rect" class="points" cluster_no = "2" coords="612,423,620,427" href="#" id = "1299">
    <area shape="rect" class="points" cluster_no = "2" coords="615,428,623,436" href="#" id = "1310">
    <area shape="rect" class="points" cluster_no = "2" coords="990,460,1009,480" href="#" id = "1382">
    <area shape="rect" class="points" cluster_no = "2" coords="421,467,422,469" href="#" id = "1400">
    <area shape="rect" class="points" cluster_no = "2" coords="411,468,413,470" href="#" id = "1403">
    <area shape="rect" class="points" cluster_no = "2" coords="407,472,408,473" href="#" id = "1412">
    <area shape="rect" class="points" cluster_no = "2" coords="409,472,410,473" href="#" id = "1413">
    <area shape="rect" class="points" cluster_no = "2" coords="414,480,416,481" href="#" id = "1429">
    <area shape="rect" class="points" cluster_no = "2" coords="100,572,110,579" href="#" id = "1611">
    <area shape="rect" class="points" cluster_no = "2" coords="304,582,306,599" href="#" id = "1632">
    <area shape="rect" class="points" cluster_no = "2" coords="184,613,206,636" href="#" id = "1695">
    <area shape="rect" class="points" cluster_no = "1" coords="571,640,583,658" href="#" id = "1760">
    <area shape="rect" class="points" cluster_no = "2" coords="552,670,569,690" href="#" id = "1820">
    <area shape="rect" class="points" cluster_no = "2" coords="392,679,393,680" href="#" id = "1844">
    <area shape="rect" class="points" cluster_no = "2" coords="398,682,400,686" href="#" id = "1848">
    <area shape="rect" class="points" cluster_no = "2" coords="385,687,386,688" href="#" id = "1858">
    <area shape="rect" class="points" cluster_no = "1" coords="392,687,395,688" href="#" id = "1859">
    <area shape="rect" class="points" cluster_no = "2" coords="396,687,397,688" href="#" id = "1860">
    <area shape="rect" class="points" cluster_no = "1" coords="448,687,452,688" href="#" id = "1861">
    <area shape="rect" class="points" cluster_no = "2" coords="387,688,392,689" href="#" id = "1866">
    <area shape="rect" class="points" cluster_no = "2" coords="384,692,393,699" href="#" id = "1880">
    <area shape="rect" class="points" cluster_no = "2" coords="974,700,991,719" href="#" id = "1896">
    <area shape="rect" class="points" cluster_no = "2" coords="176,745,177,749" href="#" id = "1996">
    <area shape="rect" class="points" cluster_no = "2" coords="627,763,640,783" href="#" id = "2036">
    <area shape="rect" class="points" cluster_no = "2" coords="48,792,50,798" href="#" id = "2116">
    <area shape="rect" class="points" cluster_no = "2" coords="432,934,433,942" href="#" id = "2458">
    <area shape="rect" class="points" cluster_no = "2" coords="176,984,179,994" href="#" id = "2594">
<div id="ex1" class="modal">
  <form id = "send_form" action="#">
  Object ID: <p id = "id_p"></p><br>
  <input type="hidden" id="obj_id" name="obj_id" value="">
  Cluster No: <p id = "cluster_no_p"></p><br>
  Change Cluster No: <br>
  <select id="cluster">
  	<option value="1">1</option>
  	<option value="2">2</option>
  </select> 
  <input type="submit" value="Submit">
</form> </div></map>
</body>
</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

<!-- jQuery Modal -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css"/>
<script type="text/javascript">
$(".points").on("click", function(e){
    e.preventDefault();
    $("#send_form").attr('action', 'test'+ e.target.id +'.php');
    $('#id_p').text(e.target.id);
    $('#obj_id').val(e.target.id);
    $('#cluster_no_p').text($(this).attr('cluster_no'));
    
    $("#ex1").modal();
});

$( "#send_form" ).submit(function( event ) {
  event.preventDefault();
  var obj_id = $('#obj_id').val();
  var cluster_no = $('#cluster').find(":selected").val();
  var url = "http://172.20.10.3/cgi-enabled/index.py?obj_id="+ obj_id +"&cluster_no=" + cluster_no;
  
  $.ajax({
  url: url,
  type:'GET',
  xhrFields: {
      withCredentials: true
   },
  crossDomain:true
})
  .done(function( data ) {
    location.reload(true);
  });
});



</script>
